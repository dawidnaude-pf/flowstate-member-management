(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{94:(e,l,t)=>{"use strict";t.d(l,{default:()=>h});var s=t(5155),a=t(2115),r=t(5880),n=t(1847);let i=(0,n.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o=(0,n.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var d=t(5229);let c=(0,n.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=t(5917);let m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x={adults_gi:"bg-blue-100 text-blue-800 border-blue-200",adults_nogi:"bg-purple-100 text-purple-800 border-purple-200",youth_gi:"bg-green-100 text-green-800 border-green-200",youth_nogi:"bg-teal-100 text-teal-800 border-teal-200",open_mat:"bg-amber-100 text-amber-800 border-amber-200",women_only:"bg-pink-100 text-pink-800 border-pink-200",kids:"bg-orange-100 text-orange-800 border-orange-200"};function h(e){let{initialClasses:l}=e,[t,n]=(0,a.useState)(l),[d,c]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),g=(0,a.useMemo)(()=>{let e={};for(let l=0;l<7;l++)e[l]=t.filter(e=>e.dayOfWeek===l).sort((e,l)=>e.startTime.localeCompare(l.startTime));return e},[t]),f=async e=>{try{let l=!e.id,s=await fetch("/api/classes",{method:l?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){let e=await s.json();l?n([...t,e]):n(t.map(l=>l.id===e.id?e:l)),c(null),h(!1)}}catch(e){console.error("Failed to save class:",e)}},y=async e=>{if(confirm("Are you sure you want to delete this class?"))try{(await fetch("/api/classes?id=".concat(e),{method:"DELETE"})).ok&&n(t.filter(l=>l.id!==e))}catch(e){console.error("Failed to delete class:",e)}};return(0,s.jsxs)("div",{className:"p-4 lg:p-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900",children:"Schedule"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage class timetable"})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-4 md:mt-0",children:[(0,s.jsxs)("button",{onClick:()=>{let e="".concat(window.location.origin,"/api/timetable");navigator.clipboard.writeText(e),alert("API endpoint copied to clipboard!")},className:"flex items-center px-4 py-2 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition-colors",children:[(0,s.jsx)(r.A,{className:"w-4 h-4 mr-2"}),"Copy API URL"]}),(0,s.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(i,{className:"w-4 h-4 mr-2"}),"Add Class"]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-7 divide-y md:divide-y-0 md:divide-x divide-slate-100",children:m.map((e,l)=>{var t,a,r;return(0,s.jsxs)("div",{className:"min-h-[200px]",children:[(0,s.jsxs)("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-100",children:[(0,s.jsx)("h3",{className:"font-medium text-slate-900",children:e}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:[(null==(t=g[l])?void 0:t.length)||0," classes"]})]}),(0,s.jsxs)("div",{className:"p-2 space-y-2",children:[null==(a=g[l])?void 0:a.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-xl border text-sm cursor-pointer hover:shadow-sm transition-shadow ".concat(x[e.programType||""]||"bg-slate-50 border-slate-200"),onClick:()=>c(e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"font-bold",children:e.startTime}),(0,s.jsxs)("span",{className:"text-xs opacity-70",children:[e.durationMinutes,"min"]})]}),(0,s.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs opacity-70 flex items-center mt-1",children:[(0,s.jsx)(o,{className:"w-3 h-3 mr-1"}),e.coach]})]},e.id)),(null==(r=g[l])?void 0:r.length)===0&&(0,s.jsx)("button",{onClick:()=>{v(l),h(!0)},className:"w-full p-4 border-2 border-dashed border-slate-200 rounded-xl text-slate-400 hover:border-slate-300 hover:text-slate-500 transition-colors",children:(0,s.jsx)(i,{className:"w-5 h-5 mx-auto"})})]})]},e)})})}),(d||u)&&(0,s.jsx)(p,{classData:d,defaultDay:b,onSave:f,onDelete:d?()=>y(d.id):void 0,onClose:()=>{c(null),h(!1),v(null)}})]})}function p(e){var l,t;let{classData:r,defaultDay:n,onSave:i,onDelete:o,onClose:x}=e,[h,p]=(0,a.useState)({name:(null==r?void 0:r.name)||"",dayOfWeek:null!=(t=null!=(l=null==r?void 0:r.dayOfWeek)?l:n)?t:1,startTime:(null==r?void 0:r.startTime)||"18:00",durationMinutes:(null==r?void 0:r.durationMinutes)||60,coach:(null==r?void 0:r.coach)||"",level:(null==r?void 0:r.level)||"All Levels",programType:(null==r?void 0:r.programType)||"adults_gi",maxCapacity:(null==r?void 0:r.maxCapacity)||null,description:(null==r?void 0:r.description)||""});return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:r?"Edit Class":"Add Class"}),(0,s.jsx)("button",{onClick:x,className:"p-2 hover:bg-slate-100 rounded-lg",children:(0,s.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({...r,...h})},className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Class Name *"}),(0,s.jsx)("input",{type:"text",value:h.name,onChange:e=>p({...h,name:e.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Day *"}),(0,s.jsx)("select",{value:h.dayOfWeek,onChange:e=>p({...h,dayOfWeek:parseInt(e.target.value)}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:m.map((e,l)=>(0,s.jsx)("option",{value:l,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time *"}),(0,s.jsx)("input",{type:"time",value:h.startTime,onChange:e=>p({...h,startTime:e.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration (min)"}),(0,s.jsx)("input",{type:"number",value:h.durationMinutes,onChange:e=>p({...h,durationMinutes:parseInt(e.target.value)}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Program Type"}),(0,s.jsxs)("select",{value:h.programType,onChange:e=>p({...h,programType:e.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,s.jsx)("option",{value:"adults_gi",children:"Adults Gi"}),(0,s.jsx)("option",{value:"adults_nogi",children:"Adults No Gi"}),(0,s.jsx)("option",{value:"youth_gi",children:"Youth Gi"}),(0,s.jsx)("option",{value:"youth_nogi",children:"Youth No Gi"}),(0,s.jsx)("option",{value:"open_mat",children:"Open Mat"}),(0,s.jsx)("option",{value:"women_only",children:"Women Only"}),(0,s.jsx)("option",{value:"kids",children:"Kids"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Coach"}),(0,s.jsx)("input",{type:"text",value:h.coach,onChange:e=>p({...h,coach:e.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Level"}),(0,s.jsxs)("select",{value:h.level,onChange:e=>p({...h,level:e.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,s.jsx)("option",{value:"All Levels",children:"All Levels"}),(0,s.jsx)("option",{value:"Fundamentals",children:"Fundamentals"}),(0,s.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,s.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,s.jsx)("option",{value:"Youth/Teens",children:"Youth/Teens"}),(0,s.jsx)("option",{value:"Open Mat",children:"Open Mat"}),(0,s.jsx)("option",{value:"Women's Only",children:"Women's Only"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[o&&(0,s.jsx)("button",{type:"button",onClick:o,className:"px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:(0,s.jsx)(c,{className:"w-5 h-5"})}),(0,s.jsx)("button",{type:"button",onClick:x,className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-100 rounded-xl transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Save"]})]})]})]})})}},1847:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});var s=t(2115);let a=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return l.filter((e,l,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===l).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,l)=>{let{color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:l,...r,width:n,height:n,stroke:t,strokeWidth:o?24*Number(i)/Number(n):i,className:a("lucide",d),...m},[...u.map(e=>{let[l,t]=e;return(0,s.createElement)(l,t)}),...Array.isArray(c)?c:[c]])}),i=(e,l)=>{let t=(0,s.forwardRef)((t,r)=>{let{className:i,...o}=t;return(0,s.createElement)(n,{ref:r,iconNode:l,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...o})});return t.displayName="".concat(e),t}},5229:(e,l,t)=>{"use strict";t.d(l,{A:()=>s});let s=(0,t(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5880:(e,l,t)=>{"use strict";t.d(l,{A:()=>s});let s=(0,t(1847).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5917:(e,l,t)=>{"use strict";t.d(l,{A:()=>s});let s=(0,t(1847).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6598:(e,l,t)=>{Promise.resolve().then(t.bind(t,94))}},e=>{e.O(0,[441,493,358],()=>e(e.s=6598)),_N_E=e.O()}]);